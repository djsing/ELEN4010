<!DOCTYPE html>
<html lang='eng'>
  <head>
    <title>Trip Manager</title>
		<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
		<link rel="manifest" href="/site.webmanifest">
		<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
		<meta name="msapplication-TileColor" content="#da532c">
		<meta name="theme-color" content="#ffffff">
		<meta name="viewport" content="width=device-width,initial-scale=1, shrink-to-fit=no">
		<meta charset="utf-8" />

    <script src="/js/jquery-3.4.0.min.js"></script>
    <script src="/js/jquery-ui-1.12.1.min.js"></script>
    <script src="/js/jquery.ui.touch-punch.0.2.3.min.js"></script>
    <script src='common.js'></script>
    <script src='trip-manager.js'></script>

    <script defer src="https://use.fontawesome.com/releases/v5.8.1/js/all.js" integrity="sha384-g5uSoOSBd7KkhAMlnQILrecXvzst9TdC09/VM+pjDTCM+1il8RHz5fKANTFFb+gQ" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="/css/bootstrap.lux.min.css" />
    <link rel="stylesheet" href="/css/general.css" />
    <link rel="stylesheet" href="/css/trip-manager.css" />

  </head>

  <body onload="signInInit()">

    <nav class="navbar navbar-expand-md navbar-light bg-light">
      <a class="navbar-brand" href="#">
        <img src="/img/logo.svg" width="30" height="30" class="d-inline-block align-top" alt="">
        Away We Go</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault"
        aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarsExampleDefault">
          <ul class="navbar-nav mr-auto">
              <li class="nav-item">
                  <a class="nav-link" href="/trip" onclick="clearTripFromSessionStorage()">New Trip <span class="sr-only">(current)</span></a>
                </li> 
              <li class="nav-item">
                <a class="nav-link" href="/trip">My Trip<span class="sr-only">(current)</span></a>
              </li>
            <li class="nav-item active">
              <a class="nav-link" href="/trip-manager">Trip Manager</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/hotels">Hotel Finder</a>
            </li>
          </ul>

        <ul class="navbar-nav ml-auto">
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="usernameTag" role="button" data-toggle="dropdown"
              aria-haspopup="true" aria-expanded="false">username</a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="dropdown-item small" id='emailTag'>email</a>
              <a class="dropdown-item" href="/profile">My Account</a>
              <div class="dropdown-divider"></div>
              <a id="signOutButton" class="dropdown-item" href="#">Sign Out</a>
            </div>
          </li>
        </ul>
      </div>
    </nav>

    <!-- Main Page contents -->
    <div class="container overflow-hidden;" id="mainContainer" >
      <div class="row" id="trip-list">

          <div class="container col-sm-6" id="tripmanager">

            <div>
                <h1 id='main-heading'>My Trips </h1>
                </span>
                  <button type='button' class='btn btn-sm btn-outline-secondary' id='addButton'>Add a trip</button>
                  <label id="info-text" class="small">(Click trip title to show details)</label>
                </span>
                
                <div id="loader" class="text-align-center"><img class="size-full" draggable="false" src="img/preloader.gif" alt="Loading icon tetris game" width="64" height="64">Loading...</div>
              
                <form id='newTrip'>
                    <div id='tripTitle'></div>
                  </form>
  
                  <table>
                      <tbody id='tripTitleTable'>
                      </tbody>
                  </table>
          </div>
          
        </div>

        <!------------------------------------ Trip Invites Section ----------------------------------------->

        <div class="container col-sm-6" id="invitemanager">
            <div id='pendingTripInvitesHeading' style="display: none">

              <h3 id='second-heading'><i class="fas fa-envelope-open-text"></i>Trip Invites</h3>

              <table id ="invitations-section">
                <tbody id='invitesTable'>
                </tbody>
              </table>

            </div>
        </div>

      </div>
  </div>

   <!-------------------------------------- Trip Log Section ------------------------------------------->

    <div class="bs-component " id="trip-log">
        <div><hr></div>
        <a class="anchor" id="log-jump"></a>
        <button type='button' class='btn btn-sm btn-light' id='hide-log'><i class="fas fa-eye-slash fa-2x"></i></button>
        <div class="text-center">
          <h1 id='heading-trip' class="text-center">Trip Log</h1><h3 id='trip-log-title' class="text-muted text-center"></h3>
        </div>
        <div style="overflow-y: scroll; height: 600px;" class=" fixed-height text-center">
            <table class="table table-hover">
              <thead>
                <tr>
                  <th class='sticky-th' scope="col">Date</th>
                  <th class='sticky-th' scope="col">Time</th>
                  <th class='sticky-th' scope="col">Who</th>
                  <th class='sticky-th' scope="col">What</th>
                </tr>
              </thead>
              <tbody id="logTable">
                <!-- <tr id="log-row">
                  <td id="log-date">when</td>
                  <td id="log-time">around</td>
                  <td id="log-user">who</td>
                  <td id="log-event">what</td> -->
                </tr>
              </tbody>
            </table> 
          </div>
      </div>





    <script src="/js/bootstrap.bundle.min.js"></script>
    <script src="/js/platform.js"></script>
    <script src="sign-in.js"></script>

  </body>
